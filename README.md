# 잇올 서버

전국 여러 지점에 있는 관리형 독서실 출결 관리 시스템 제작 프로젝트 입니다.

# 목차

-   [요약](#요약)
-   [주요 기능](#주요기능)
-   [트러블 슈팅](#트러블슈팅)
    -   [피크 타임 문제](#피크-타임-문제)

# 요약

- 회원가입을 통해 이용할 수 있으며, QR 코드를 사용하여 출석 체크를 진행합니다.
- 부모와 관리자는 학생의 출결 상태를 실시간으로 확인할 수 있습니다.
- 학생이 예외 상태(조퇴, 외출)를 요구할 시 관리자 및 부모의 승인을 받아야 합니다.
- 상벌점 시스템과 랭킹 시스템을 통해 학생의 출석 및 학습 상태를 관리합니다.

# 주요기능

- **QR 출석 체크**
    - 학생은 QR 코드를 사용하여 간편하게 출석 체크를 할 수 있습니다.
    - QR 코드 스캔을 통해 출석이 자동으로 기록됩니다.
- **상벌점 기능**
    - 학생의 출결 상태에 따라 관리자가 상벌점을 부여할 수 있습니다.
    - 상벌점 내역은 학생과 부모가 확인할 수 있습니다.
- **누적 학습량을 통한 랭킹 시스템**
    - 학생의 출석 기간을 기준으로 일별, 월별 랭킹을 확인할 수 있습니다.
    - 랭킹 시스템을 통해 학생들의 동기 부여를 유도합니다.
- **스케줄러를 통한 자동 출결 시스템**
    - 자동 출결 시스템을 통해 출석 데이터를 효율적으로 관리할 수 있습니다.
    - 스케줄러를 활용하여 정해진 시간에 자동으로 출석 체크를 수행합니다.
- **공지사항**
    - 공지사항을 통해 중요한 정보를 학생과 부모에게 전달할 수 있습니다.
    - 관리자 페이지에서 공지사항을 작성하고, 이를 앱 사용자에게 전달합니다.

# 트러블슈팅

## 피크 타임 문제

**문제**: 전국의 200여 개 지점과 각 지점당 여러 반이 존재하여, 학생들이 등하원하는 시간인 오전 8시와 오후 10시에 데이터가 몰리면서 서버 부하가 발생했습니다. 이로 인해 시스템 성능 저하와 응답 지연 문제가 발생했습니다.

**해결**:

- **서버 스케일링 아웃 및 성능 향상 방안**: 먼저 서버를 스케일링 아웃하여 여러 인스턴스를 추가로 배포하거나, EC2 인스턴스의 성능을 높이는 방법을 고려했습니다.
- **부하 성능 테스트 진행**: 정확한 문제 확인을 위해 부하 성능 테스트를 진행하기로 했습니다. **`Artillery`**를 사용하여 등하원 데이터의 Insert 트랜잭션을 테스트했으며, 초기 테스트 환경에서 이슈가 발생하지 않음을 확인했습니다. 이를 통해 서버가 실제 트래픽을 처리할 수 있는지를 사전에 검증했습니다.
- **테스트 환경 설정 및 업그레이드 협의**: 테스트 환경이었던 t3.micro 인스턴스를 사용하여 배포를 진행하기로 협의했습니다. 클라이언트 측과 협의하여 이슈가 발생할 경우 서버 인스턴스를 업그레이드하기로 결정했습니다.
